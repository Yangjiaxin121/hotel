(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17be9ede"],{2192:function(e,s,r){"use strict";r("9b0a")},4565:function(e,s,r){"use strict";r("6bec")},"6bec":function(e,s,r){},"9b0a":function(e,s,r){},d5c2:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("用户注册")])]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),r("el-input",{ref:"username",attrs:{placeholder:"请输入用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleRegister(s)}},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),r("el-form-item",{attrs:{prop:"repeatPassword"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("el-input",{key:e.passwordType,ref:"repeatPassword",attrs:{type:e.passwordType,placeholder:"请再次确认密码",name:"repeatPassword",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleRegister(s)}},model:{value:e.form.repeatPassword,callback:function(s){e.$set(e.form,"repeatPassword",s)},expression:"form.repeatPassword"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),r("el-form-item",{attrs:{prop:"phone"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-mobile-phone"})]),r("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(s){e.$set(e.form,"phone",s)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{prop:"email"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"email"}})],1),r("el-input",{attrs:{placeholder:"请输入邮箱地址"},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}})],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),e.handleRegister(s)}}},[e._v("注册")]),r("div",{staticClass:"tips"},[r("span",[e._v("已有帐号")]),r("el-button",{attrs:{type:"text"},on:{click:e.handleLogin}},[e._v("点击登录")])],1)],1)],1)},o=[],a=(r("61f7"),r("c24f")),n={name:"Login",data:function(){var e=this,s=function(e,s,r){s?r():r(new Error("请输入用户名"))},r=function(e,s,r){s.length<6?r(new Error("密码长度至少大于六位")):r()},t=function(s,r,t){r||t(new Error("请再次输入密码")),r!==e.form.password?t(new Error("两次输入密码不一致")):t()},o=function(e,s,r){var t=/^\w+@[a-z0-9]+\.[a-z]{2,4}$/;s||r(new Error("邮箱不能为空")),t.test(s)?r():r(new Error("邮箱格式不正确"))},a=function(e,s,r){var t=/^1[0-9]{10}$/;s||r(new Error("电话号码不能为空")),t.test(s)?r():r(new Error("输入格式不正确"))};return{form:{username:"",password:"",repeatPassword:"",email:"",phone:""},loginRules:{username:[{required:!0,trigger:"blur",validator:s}],password:[{required:!0,trigger:"blur",validator:r}],repeatPassword:[{required:!0,trigger:"blur",validator:t}],email:[{required:!0,trigger:"blur",validator:o}],phone:[{required:!0,trigger:"blur",validator:a}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleRegister:function(){var e=this;this.$refs.form.validate((function(s){if(!s)return console.log("error submit!!"),!1;e.loading=!0;var r={username:e.form.username,password:e.form.password,email:e.form.email,phone:e.form.phone};Object(a["i"])(r).then((function(s){0===s.status?(e.$message({type:"success",message:"注册成功"}),e.loading=!1,e.$router.push("/login")):(e.$message({type:"warning",message:s.msg}),e.loading=!1)})).catch((function(s){console.log(s),e.$message.error("注册失败"),e.loading=!1}))}))},handleLogin:function(){this.$router.push("/login")}}},i=n,l=(r("4565"),r("2192"),r("2877")),c=Object(l["a"])(i,t,o,!1,null,"de512906",null);s["default"]=c.exports}}]);